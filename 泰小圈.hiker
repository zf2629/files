海阔视界规则分享，当前分享的是：小程序￥home_rule_v2￥base64://@泰小圈@eyJsYXN0X2NoYXB0ZXJfcnVsZSI6IiIsInRpdGxlIjoi5rOw5bCP5ZyIIiwiYXV0aG9yIjoiU2t5IiwidXJsIjoiaGlrZXI6Ly9lbXB0eSMjaHR0cHM6Ly90eHF1dS5jb20vdm9kc2hvdy9TQ0NDQ1MtLS0tLS0tLWZ5cGFnZS0tLS5odG1sIiwidmVyc2lvbiI6MSwiY29sX3R5cGUiOiJtb3ZpZV8zIiwiY2xhc3NfbmFtZSI6IiIsInR5cGUiOiJ2aWRlbyIsImNsYXNzX3VybCI6IiIsImFyZWFfbmFtZSI6IiIsImFyZWFfdXJsIjoiIiwic29ydF9uYW1lIjoiIiwieWVhcl9uYW1lIjoiIiwic29ydF91cmwiOiIiLCJ5ZWFyX3VybCI6IiIsImZpbmRfcnVsZSI6ImpzOlxudmFyIGQgPSBbXVxudmFyIGdldFJhbmdlQ29sb3JzID0gZnVuY3Rpb24oKSB7wqDCoMKgwqDCoMKgwqBcbiAgICByZXR1cm4gJyMnICsgKCcwMDAwMCcgKyAoTWF0aC5yYW5kb20oKSAqIDB4MTAwMDAwMCA8PCAwKS50b1N0cmluZygxNikpLnN1YnN0cigtNik7wqDCoMKgwqDCoFxufVxuXG5jb25zdCDliIbpoZ7poY/oibIgPSBnZXRSYW5nZUNvbG9ycygpXG5jb25zdCDlpKfpoZ7lrprkvY0gPSAnYm9keSYmLmhsLWZpbHRlci1saXN0Om5vdCg6bWF0Y2hlcyjms7ApKSdcbmNvbnN0IOaLvOaOpeWIhumhniA9ICcnXG5jb25zdCDlsI/poZ7lrprkvY0gPSAnYm9keSYmYTpub3QoOm1hdGNoZXMo6aaW6aG1fOS7inzmnIDov5F85o6S6KGMfOS4k3zng6185rGCfOW4ruWKqSkpJ1xuY29uc3Qg5YiG6aGe5qiZ6aGMID0gJ2EmJlRleHQnXG5jb25zdCDliIbpoZ7pgKPntZAgPSAnYSYmaHJlZidcbmNvbnN0IOaOkumZpCA9ICfniYflupMnXG5NWV9VUkwgPSBNWV9VUkwucmVwbGFjZSgnaGlrZXI6Ly9lbXB0eSMjJywgJycpXG5cbmxldCB0cnVlX3VybCA9IGdldFZhcihNWV9SVUxFLnVybCwgTVlfVVJMKVxuY29uc3QgcGFnZSA9IE1ZX1BBR0VcbmlmIChnZXRWYXIoTVlfUlVMRS51cmwpKSB7XG5cbiAgdHJ1ZV91cmwgPSB0cnVlX3VybC5yZXBsYWNlKCctLS0uaHRtbCcsIHBhZ2UgKyAnLS0tLmh0bWwnKS5yZXBsYWNlKC8oLS0tXFxkKy5odG1sKS8sIHBhZ2UgKyAnJDEnKTsgICAgICBcbiAgICB9XG5cbmxvZyh0cnVlX3VybClcbnZhciBodG1sID0gcmVxdWVzdCh0cnVlX3VybClcblxuZXZhbChKU09OLnBhcnNlKHJlcXVlc3QoJ2hpa2VyOi8vcGFnZS9kdCcpKS5ydWxlKVxuXG52YXIgbGlzdCA9IHBkZmEoaHRtbCwgJ2JvZHkmJi5obC1saXN0LWl0ZW0nKTtcbmZvciAodmFyIGogaW4gbGlzdCkge1xuICAgIGQucHVzaCh7XG4gICAgICAgIHRpdGxlOiBwZGZoKGxpc3Rbal0sICdhJiZ0aXRsZScpLFxuICAgICAgICBkZXNjOiBwZGZoKGxpc3Rbal0sICcuaGwtbGMtMSYmVGV4dCcpLFxuICAgICAgICBpbWc6IHBkKGxpc3Rbal0sICcuaGwtbGF6eSYmZGF0YS1vcmlnaW5hbCcpICsgXCJAUmVmZXJlcj1cIixcbiAgICAgICAgdXJsOiBwZChsaXN0W2pdLCAnYSYmaHJlZicpICsgJyNpbW1lcnNpdmVUaGVtZSMjYXV0b0NhY2hlI0BydWxlPWpzOiQucmVxdWlyZShcImVyXCIpJyxcbiAgICAgICAgY29sX3R5cGU6ICdtb3ZpZV8zX21hcnF1ZWUnLFxuICAgICAgICBcbiAgICB9KVxufVxuc2V0UmVzdWx0KGQpOyIsInNlYXJjaF91cmwiOiJodHRwczovL3R4cXV1LmNvbS92b2RzZWFyY2gvKiotLS0tLS0tLS0tZnlwYWdlLS0tLmh0bWwiLCJncm91cCI6IuW9seinhiIsInNlYXJjaEZpbmQiOiJqczpcclxudmFyIGQgPSBbXTtcbnZhciBsaXN0ID0gcGRmYShnZXRSZXNDb2RlKCksICdib2R5JiYuaGwtaXRlbS1kaXYnKTtcclxuZm9yICh2YXIgaiBpbiBsaXN0KSB7XHJcbiAgZC5wdXNoKHtcclxuICAgICAgIHRpdGxlOiBwZGZoKGxpc3Rbal0sICdhJiZ0aXRsZScpLFxyXG4gICAgICAgZGVzYzogcGRmaChsaXN0W2pdLCAnLmhsLXBpYy10ZXh0JiZUZXh0JykucmVwbGFjZSgvXFwvL2csICcgJyksXG4gICAgICAgY29udGVudDpwZGZoKGxpc3Rbal0sICcuaGwtaXRlbS1zdWImJlRleHQnKS5yZXBsYWNlKC9cXC8vZywgJyAnKSxcbiAgICAgICBpbWc6IHBkKGxpc3Rbal0sICcuaGwtbGF6eSYmZGF0YS1vcmlnaW5hbCcpKydAUmVmZXJlcj0nLFxyXG4gICAgICAgdXJsOiBwZChsaXN0W2pdLCAnYSYmaHJlZicpKyAnI2ltbWVyc2l2ZVRoZW1lIyNhdXRvQ2FjaGUjQHJ1bGU9anM6JC5yZXF1aXJlKFwiZXJcIiknXG5cbiAgfSk7XHJcbn1cclxuc2V0UmVzdWx0KGQpOyIsImRldGFpbF9jb2xfdHlwZSI6Im1vdmllXzEiLCJkZXRhaWxfZmluZF9ydWxlIjoiIiwic2RldGFpbF9jb2xfdHlwZSI6Im1vdmllXzEiLCJzZGV0YWlsX2ZpbmRfcnVsZSI6IioiLCJ1YSI6Im1vYmlsZSIsInByZVJ1bGUiOiIiLCJwYWdlcyI6Ilt7XCJjb2xfdHlwZVwiOlwibW92aWVfM1wiLFwibmFtZVwiOlwi5LqM57SaXCIsXCJwYXRoXCI6XCJlclwiLFwicnVsZVwiOlwianM6XFxudmFyIGQgPSBbXTtcXG52YXIgaHRtbCA9IGdldFJlc0NvZGUoKTtcXG52YXIgZ2V0UmFuZ2VDb2xvcnMgPSBmdW5jdGlvbigpIHvCoMKgwqDCoMKgwqDCoFxcbiAgICByZXR1cm4gJyMnICsgKCcwMDAwMCcgKyAoTWF0aC5yYW5kb20oKSAqIDB4MTAwMDAwMCA8PCAwKS50b1N0cmluZygxNikpLnN1YnN0cigtNik7wqDCoMKgwqDCoFxcbn1cXG5ldmFsKEpTT04ucGFyc2UocmVxdWVzdCgnaGlrZXI6Ly9wYWdlL2xhenknKSkucnVsZSk7XFxuXFxuLy/nt5rot6/lkI3liJfooajnmoTlrprkvY1cXG52YXIgYXJ0cyA9IHBkZmEoaHRtbCwgJ2JvZHkmJi5obC1mcm9tLWxpc3QnKTtcXG5cXG4vL+e3mui3r+WQjeWIl+ihqOWQjeeoseeahOWumuS9jVxcbnZhciB0YWJzID0gW107XFxuZm9yICh2YXIgaSBpbiBhcnRzKSB7XFxuICAgIHRhYnMucHVzaChwZGZoKGFydHNbaV0sICdzcGFuJiZUZXh0JykpXFxufVxcblxcbi8v5pKt5pS+5YiX6KGo55qE5YiX6KGo55qE5a6a5L2NXFxudmFyIGNvbnRzID0gcGRmYShodG1sLCAnYm9keSYmLmhsLWxpc3Qtd3JhcCcpO1xcbnZhciBsaXN0cyA9IFtdO1xcbmZvciAodmFyIGkgaW4gY29udHMpIHtcXG4gICAgbGlzdHMucHVzaChwZGZhKGNvbnRzW2ldLCAnYm9keSYmYTpub3QoOm1hdGNoZXMo5bGV5byAKSknKSlcXG59XFxudmFyIOaomemhjCA9IHBkZmgoaHRtbCwgJ2gyJiZUZXh0JykuYm9sZCgpO1xcblxcbnZhciDlsI7mvJQgPSAn4oCY4oCY4oCZ4oCZJyArIHBkZmgoaHRtbCwgJy5obC1jb2wteHMtMTIsMyYmVGV4dCcpLnJlcGxhY2UoL1xcXFwvL2csICcgJykuc21hbGwoKTtcXG5cXG52YXIg6K+t6KiAID0gcGRmaChodG1sLCAnLmhsLWNvbC14cy0xMiw2JiZUZXh0JykucmVwbGFjZSgvXFxcXC8vZywgJyAnKS5zbWFsbCgpO1xcblxcbnZhciDkuLvmvJQgPSAn4oCY4oCY4oCZ4oCZJyArIHBkZmgoaHRtbCwgJy5obC1jb2wteHMtMTIsMiYmVGV4dCcpLmZvbnRjb2xvcihcXFwiI2ZmYmYwMFxcXCIpLnNtYWxsKCk7XFxuXFxudmFyIOeJh+mVvyA9IHBkZmgoaHRtbCwgJycpLmZvbnRjb2xvcihcXFwiIzkzNzBkYlxcXCIpLnNtYWxsKCk7XFxuXFxudmFyIOWclueJhyA9IHBkKGh0bWwsICcuaGwtbGF6eSYmZGF0YS1vcmlnaW5hbCcpICsgXFxcIkBSZWZlcmVyPVxcXCI7XFxuXFxudmFyIOewoeS7iyA9IHBkZmgoaHRtbCwgJy5obC1jb250ZW50LXRleHQmJlRleHQnKS5yZXBsYWNlKCfmlLbotbcnLCAnJyk7XFxuXFxuZnVuY3Rpb24gZ2V0SGVhZCh0aXRsZSkge1xcbiAgICByZXR1cm4gJ+KAmOKAmOKAmeKAmTxzdHJvbmc+JyArIHRpdGxlLmZvbnRjb2xvcihcXFwiI2ZmZmZmZlxcXCIpICsgJzwvc3Ryb25nPic7XFxufVxcbmxldCBsaW5lX21vZGVsID0gODtcXG5sZXQgbGluZV90eXBlX21vZGVsID0gJ2JsYW5rX2Jsb2NrJztcXG5kLnB1c2goe1xcbiAgICB0aXRsZTog5qiZ6aGMICsgJ1xcXFxuJyArIOWwjua8lCArICdcXFxcbicgKyDor63oqIArICdcXFxcbicgKyDniYfplb8sXFxuICAgIGRlc2M6IOS4u+a8lCxcXG4gICAgcGljX3VybDog5ZyW54mHLFxcbiAgICB1cmw6IE1ZX1VSTCArICcjbm9IaXN0b3J5IycsXFxuICAgIGNvbF90eXBlOiAnbW92aWVfMV92ZXJ0aWNhbF9waWNfYmx1cicsXFxuICAgIGV4dHJhOiB7XFxuICAgICAgICBncmFkaWVudDogdHJ1ZVxcbiAgICB9XFxufSk7XFxuZC5wdXNoKHtcXG4gICAgdGl0bGU6ICfigJjigJjigJnigJknICsgJ+ewoeS7i++8micuZm9udGNvbG9yKFxcXCIjMWU5MGZmXFxcIikuYm9sZCgpICsg57Ch5LuLLnN1YnN0cigwLCA1NSkuc21hbGwoKSArICcuLi7oqbPmg4UnLmZvbnRjb2xvcihcXFwicmVkXFxcIikuc21hbGwoKSxcXG4gICAgdXJsOiAnaGlrZXI6Ly9lbXB0eSMjbm9IaXN0b3J5IycgKyAnXFxcXG4nICsg57Ch5LuLICsgYEBydWxlPWpzOnZhciByZXMgPSB7fTsgdmFyIGQgPSBbXTtkLnB1c2goe3RpdGxlOifliofmg4XnsKHku4vvvJonKyBNWV9VUkwuc3BsaXQoJ2hpa2VyOi8vZW1wdHkjJylbMV0sY29sX3R5cGU6ICdsb25nX3RleHQnfSk7cmVzLmRhdGEgPSBkOyBzZXRIb21lUmVzdWx0KHJlcyk7YCxcXG4gICAgY29sX3R5cGU6ICd0ZXh0XzEnXFxufSk7XFxuZm9yIChsZXQgaSA9IDA7IGkgPCBsaW5lX21vZGVsOyBpKyspIHtcXG4gICAgZC5wdXNoKHtcXG4gICAgICAgIGNvbF90eXBlOiBsaW5lX3R5cGVfbW9kZWxcXG4gICAgfSlcXG59XFxuXFxuZnVuY3Rpb24gc2V0VGFicyh0YWJzLCB2YXJpKSB7XFxuICAgIGQucHVzaCh7XFxuICAgICAgICB0aXRsZTogKGdldFZhcignc2hzb3J0JykgPT0gJzEnKSA/ICfigJjigJjigJnigJk8Yj48c3BhbiBzdHlsZT1cXFwiY29sb3I6ICM5MzcwZGJcXFwiPuKHqTwvc3Bhbj48L2I+JyA6ICfigJjigJjigJnigJk8Yj48c3BhbiBzdHlsZT1cXFwiY29sb3I6ICNmZmJmMDBcXFwiPuKHpzwvc3Bhbj48L2I+JyxcXG4gICAgICAgIHVybDogYCNub0xvYWRpbmcjQGxhenlSdWxlPS5qczpsZXQgY29uZiA9IGdldFZhcignc2hzb3J0Jyk7aWYoY29uZj09JzEnKXtwdXRWYXIoe2tleTonc2hzb3J0JywgdmFsdWU6JzAnfSk7fWVsc2V7cHV0VmFyKHtrZXk6J3Noc29ydCcsIHZhbHVlOicxJ30pfTtyZWZyZXNoUGFnZSgpOyd0b2FzdDovL+WIh+aPm+aOkuW6j+aIkOWKnydgLFxcbiAgICAgICAgY29sX3R5cGU6ICdzY3JvbGxfYnV0dG9uJyxcXG4gICAgfSlcXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0YWJzLmxlbmd0aDsgaSsrKSB7XFxuICAgICAgICB2YXIgdXJsID0gXFxcIiNub0xvYWRpbmcjQGxhenlSdWxlPS5qczpwdXRWYXIoJ1xcXCIgKyB2YXJpICsgXFxcIicsICdcXFwiICsgaSArIFxcXCInKTtyZWZyZXNoUGFnZShmYWxzZSk7J3RvYXN0Oi8v5YiH5o+b5oiQ5Yqf77yBJzsnI25vSGlzdG9yeSNoaWtlcjovL2VtcHR5J1xcXCI7XFxuICAgICAgICBkLnB1c2goe1xcbiAgICAgICAgICAgIHRpdGxlOiBnZXRWYXIodmFyaSwgJzAnKSA9PSBpID8gJ+KAmOKAmOKAmeKAmTxiPjxzcGFuIHN0eWxlPVxcXCJjb2xvcjogI2ZmZmZmZlxcXCI+JyArIHRhYnNbaV0gKyAnPC9zcGFuPjwvYj4nIDogdGFic1tpXSxcXG4gICAgICAgICAgICB1cmw6IHVybCxcXG4gICAgICAgICAgICBjb2xfdHlwZTogJ3Njcm9sbF9idXR0b24nLFxcbiAgICAgICAgICAgIGV4dHJhOiB7XFxuICAgICAgICAgICAgICAgICdiYWNrZ3JvdW5kQ29sb3InOiBnZXRWYXIodmFyaSwgJzAnKSA9PSBpID8gZ2V0UmFuZ2VDb2xvcnMoKSA6ICcnXFxuICAgICAgICAgICAgfVxcbiAgICAgICAgfSlcXG4gICAgfVxcbiAgICBkLnB1c2goe1xcbiAgICAgICAgY29sX3R5cGU6ICdsaW5lJ1xcbiAgICB9KTtcXG59XFxuXFxuZnVuY3Rpb24gc2V0TGlzdHMobGlzdHMsIGluZGV4KSB7XFxuICAgIHZhciBsaXN0ID0gbGlzdHNbaW5kZXhdO1xcbiAgICBpZiAoZ2V0VmFyKCdzaHNvcnQnKSA9PSAnMScpIHtcXG4gICAgICAgIHZhciBsaXN0ID0gbGlzdHNbaW5kZXhdLnJldmVyc2UoKTtcXG4gICAgfVxcbiAgICBmb3IgKHZhciBqIGluIGxpc3QpIHtcXG4gICAgICAgIGQucHVzaCh7XFxuICAgICAgICAgICAgdGl0bGU6ICfigJjigJjigJnigJknICsgcGRmaChsaXN0W2pdLCAnYSYmVGV4dCcpXFxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKC/nrKwoXFxcXGQrKembhi8sICckMScpXFxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKCfnrKwnLCAnJylcXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoJ+acnycsICcnKS5zbWFsbCgpLFxcbiAgICAgICAgICAgIHVybDogcGQobGlzdFtqXSwgJ2EmJmhyZWYnKSArIGxhenksXFxuICAgICAgICAgICAgY29sX3R5cGU6IGxpc3QubGVuZ3RoID4gMyA/ICd0ZXh0XzQnIDogJ3RleHRfMicsXFxuICAgICAgICAgICAgZXh0cmE6IHtcXG4gICAgICAgICAgICAgICAgdmlkZW9SdWxlczogWyd2aWRlb1R5cGU9MScsICcqLm0zdTgnXSxcXG4gICAgICAgICAgICAgICAgYmxvY2tSdWxlczogWycucG5nJywgJy5qcGcnXVxcbiAgICAgICAgICAgIH1cXG4gICAgICAgIH0pO1xcbiAgICB9XFxufVxcbnNldFRhYnModGFicywgTVlfVVJMKTtcXG5zZXRMaXN0cyhsaXN0cywgZ2V0VmFyKE1ZX1VSTCwgJzAnKSk7XFxuZC5wdXNoKHtcXG4gICAgY29sX3R5cGU6ICdsaW5lX2JsYW5rJ1xcbn0pXFxuZC5wdXNoKHtcXG4gICAgdGl0bGU6ICfinaTvuI/igI3wn5SlIOKAmOKAmOKAmeKAmeeMnOS9oOWWnOatoScuZm9udGNvbG9yKFxcXCIjOTM3MGRiXFxcIikuYm9sZCgpLFxcbiAgICB1cmw6ICdoaWtlcjovL2VtcHR5JyxcXG4gICAgY29sX3R5cGU6IFxcXCJ0ZXh0XzFcXFwiXFxufSk7XFxudmFyIHJtcmUgPSBwZGZhKGh0bWwsICdib2R5JiYuaGwtbGlzdC1pdGVtLDA6OScpO1xcbnJtcmUuZm9yRWFjaChpdGVtID0+IHtcXG4gICAgdmFyIGltZyA9IHBkKGl0ZW0sICcuaGwtbGF6eSYmZGF0YS1vcmlnaW5hbCcpXFxuICAgIGQucHVzaCh7XFxuICAgICAgICB0aXRsZTogcGRmaChpdGVtLCAnYSYmdGl0bGUnKSxcXG4gICAgICAgIGRlc2M6IHBkZmgoaXRlbSwgJy5obC1waWMtdGV4dCYmVGV4dCcpLFxcbiAgICAgICAgaW1nOiBpbWcgKyBcXFwiQFJlZmVyZXI9XFxcIixcXG4gICAgICAgIHVybDogcGQoaXRlbSwgJ2EmJmhyZWYnKSArICcjbm9IaXN0b3J5IyNpbW1lcnNpdmVUaGVtZSMjYXV0b0NhY2hlI0BydWxlPWpzOiQucmVxdWlyZShcXFwiZXJcXFwiKScsXFxuICAgICAgICBjb2xfdHlwZTogJ21vdmllXzNfbWFycXVlZScsXFxuICAgICAgICBleHRyYToge1xcbiAgICAgICAgICAgIGltZzogaW1nXFxuICAgICAgICB9XFxuICAgIH0pO1xcbn0pXFxuc2V0UmVzdWx0KGQpO1wifSx7XCJjb2xfdHlwZVwiOlwibW92aWVfM1wiLFwibmFtZVwiOlwi6Kej5p6QXCIsXCJwYXRoXCI6XCJsYXp5XCIsXCJydWxlXCI6XCJ2YXIgbGF6eSA9ICQoJycpLmxhenlSdWxlKCgpID0+IHtcXG4gICAgdHJ5IHtcXG4gICAgICAgIHZhciBodG1sID0gSlNPTi5wYXJzZShyZXF1ZXN0KGlucHV0KS5tYXRjaCgvciBwbGF5ZXJfLio/PSguKj8pPC8pWzFdKVxcbiAgICAgICAgICAgIHZhciB1cmwgPSBodG1sLnVybFxcbiAgICAgICAgICAgIGlmIChodG1sLmVuY3J5cHQgPT0gJzEnKSB7XFxuICAgICAgICAgICAgICAgIHVybCA9IHVuZXNjYXBlKHVybCk7XFxuICAgICAgICAgICAgfSBlbHNlIGlmIChodG1sLmVuY3J5cHQgPT0gJzInKSB7XFxuICAgICAgICAgICAgICAgIHVybCA9IHVuZXNjYXBlKGJhc2U2NERlY29kZSh1cmwpKTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgaWYgKC9tM3U4fG1wNC8udGVzdCh1cmwpKSB7XFxuICAgICAgICAgICAgICAgIHJldHVybiB1cmxcXG4gICAgICAgICAgICB9IGVsc2Uge1xcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3ZpZGVvOi8vJyArIGlucHV0XFxuICAgICAgICAgICAgfVxcbiAgICB9IGNhdGNoIChlKSB7XFxuICAgICAgICByZXR1cm4gJ3ZpZGVvOi8vJyArIGlucHV0XFxuICAgIH1cXG59KVwifSx7XCJjb2xfdHlwZVwiOlwibW92aWVfM1wiLFwibmFtZVwiOlwi5YuV5oWLXCIsXCJwYXRoXCI6XCJkdFwiLFwicnVsZVwiOlwiY29uc3QgZW1wdHkgPSBcXFwiaGlrZXI6Ly9lbXB0eVxcXCJcXG5cXG5pZiAodHlwZW9mKOaLvOaOpeWIhumhnikgIT0gJ3VuZGVmaW5lZCcgJiYg5ou85o6l5YiG6aGeICE9ICcnKSB7XFxuICAgIHZhciBjYXRlZ29yaWVzID0gcGRmYShodG1sLCDlpKfpoZ7lrprkvY0pLmNvbmNhdChwZGZhKGh0bWwsIOaLvOaOpeWIhumhnikpXFxufSBlbHNlIHtcXG4gICAgdmFyIGNhdGVnb3JpZXMgPSBwZGZhKGh0bWwsIOWkp+mhnuWumuS9jSlcXG59XFxubGV0IHMgPSBbXVxcbmxldCBpbml0X2NhdGUgPSBbXVxcblxcbmZvciAobGV0IGkgPSAwOyBpIDwgMjA7IGkrKykge1xcbiAgICBpbml0X2NhdGUucHVzaChcXFwiMFxcXCIpXFxufVxcblxcbmNvbnN0IGZvbGQgPSBnZXRWYXIoTVlfUlVMRS5ncm91cCwgXFxcIjBcXFwiKVxcbmNvbnN0IGNhdGVfdGVtcF9qc29uID0gZ2V0VmFyKE1ZX1JVTEUudGl0bGUsIEpTT04uc3RyaW5naWZ5KGluaXRfY2F0ZSkpXFxuY29uc3QgY2F0ZV90ZW1wID0gSlNPTi5wYXJzZShjYXRlX3RlbXBfanNvbilcXG5cXG5pZiAocGFyc2VJbnQocGFnZSkgPT09IDEpIHtcXG4gICAgcy5wdXNoKHtcXG4gICAgICAgIHRpdGxlOiBcXFwi5pCc57SiXFxcIixcXG4gICAgICAgIGRlc2M6IFxcXCLgrJgoy7Xilbkt4pW5KeKUgeKcqOKAoi4swrgsLuKAoirCr2DigKIuLMK4LC7igKIqXFxcIixcXG4gICAgICAgIHVybDogXFxcIidoaWtlcjovL3NlYXJjaD9ydWxlPVxcXCIgKyBNWV9SVUxFLnRpdGxlICsgXFxcIiZzPScraW5wdXRcXFwiLFxcbiAgICAgICAgY29sX3R5cGU6IFxcXCJpbnB1dFxcXCIsXFxuICAgIH0pO1xcbiAgICBzLnB1c2goe1xcbiAgICAgICAgdGl0bGU6IGZvbGQgPT09ICcxJyA/ICfigJjigJjigJnigJknICsgJ+KepScuZm9udGNvbG9yKFxcXCIjOTM3MGRiXFxcIikgOiAn4oCY4oCY4oCZ4oCZJyArICfinqYnLmZvbnRjb2xvcihcXFwiI2ZmYmYwMFxcXCIpLFxcbiAgICAgICAgdXJsOiAkKCcjbm9Mb2FkaW5nIycpLmxhenlSdWxlKChmb2xkKSA9PiB7XFxuICAgICAgICAgICAgcHV0VmFyKE1ZX1JVTEUuZ3JvdXAsIGZvbGQgPT09ICcxJyA/ICcwJyA6ICcxJyk7XFxuICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpO1xcbiAgICAgICAgICAgIHJldHVybiBcXFwiaGlrZXI6Ly9lbXB0eVxcXCJcXG4gICAgICAgIH0sIGZvbGQpLFxcbiAgICAgICAgY29sX3R5cGU6ICdzY3JvbGxfYnV0dG9uJyxcXG4gICAgfSlcXG4gICAgY2F0ZWdvcmllcy5mb3JFYWNoKChjYXRlZ29yeSwgaW5kZXgpID0+IHtcXG4gICAgICAgIGxldCBzdWJfY2F0ZWdvcmllcyA9IHBkZmEoY2F0ZWdvcnksIOWwj+mhnuWumuS9jSk7XFxuICAgICAgICBpZiAoaW5kZXggPT09IDApIHtcXG4gICAgICAgICAgICBzdWJfY2F0ZWdvcmllcy5mb3JFYWNoKChpdGVtLCBrZXkpID0+IHtcXG4gICAgICAgICAgICAgICAgbGV0IHRpdGxlID0gcGRmaChpdGVtLCDliIbpoZ7mqJnpoYwpXFxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Yo5o6S6ZmkKSAhPSAndW5kZWZpbmVkJyAmJiDmjpLpmaQgIT0gJycpIHtcXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlID0gdGl0bGUucmVwbGFjZShuZXcgUmVnRXhwKOaOkumZpCwgXFxcImdcXFwiKSwgXFxcIlxcXCIpXFxuICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgICAgcy5wdXNoKHtcXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBrZXkudG9TdHJpbmcoKSA9PT0gY2F0ZV90ZW1wW2luZGV4XSA/IFxcXCLigJjigJjigJnigJlcXFwiICsgdGl0bGUuZm9udGNvbG9yKFxcXCIjZmZmZmZmXFxcIikuYm9sZCgpIDogdGl0bGUsXFxuICAgICAgICAgICAgICAgICAgICB1cmw6ICQocGQoaXRlbSwg5YiG6aGe6YCj57WQKSArICcjbm9Mb2FkaW5nIycpLmxhenlSdWxlKChwYXJhbXMpID0+IHtcXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbmV3X2NhdGUgPSBbXVxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtcy5jYXRlX3RlbXAuZm9yRWFjaCgoY2F0ZSwgaW5kZXgpID0+IHtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3X2NhdGUucHVzaChpbmRleCA9PT0gMCA/IHBhcmFtcy5rZXkudG9TdHJpbmcoKSA6IFxcXCIwXFxcIilcXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxcbiAgICAgICAgICAgICAgICAgICAgICAgIHB1dFZhcihNWV9SVUxFLnRpdGxlLCBKU09OLnN0cmluZ2lmeShuZXdfY2F0ZSkpXFxuICAgICAgICAgICAgICAgICAgICAgICAgcHV0VmFyKE1ZX1JVTEUudXJsLCBpbnB1dClcXG4gICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZSh0cnVlKVxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcXFwiaGlrZXI6Ly9lbXB0eVxcXCJcXG4gICAgICAgICAgICAgICAgICAgIH0sIHtcXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRlX3RlbXA6IGNhdGVfdGVtcCxcXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk6IGtleSxcXG4gICAgICAgICAgICAgICAgICAgICAgICBwYWdlOiBwYWdlLFxcbiAgICAgICAgICAgICAgICAgICAgfSksXFxuICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ3Njcm9sbF9idXR0b24nLFxcbiAgICAgICAgICAgICAgICAgICAgZXh0cmE6IHtcXG4gICAgICAgICAgICAgICAgICAgICAgICAnYmFja2dyb3VuZENvbG9yJzoga2V5LnRvU3RyaW5nKCkgPT09IGNhdGVfdGVtcFtpbmRleF0gPyBnZXRSYW5nZUNvbG9ycygpIDogJydcXG4gICAgICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgICAgfSlcXG4gICAgICAgICAgICB9KVxcbiAgICAgICAgICAgIHMucHVzaCh7XFxuICAgICAgICAgICAgICAgIGNvbF90eXBlOiBcXFwiYmxhbmtfYmxvY2tcXFwiXFxuICAgICAgICAgICAgfSk7XFxuICAgICAgICB9IGVsc2UgaWYgKGZvbGQgPT09ICcxJykge1xcbiAgICAgICAgICAgIHN1Yl9jYXRlZ29yaWVzLmZvckVhY2goKGl0ZW0sIGtleSkgPT4ge1xcbiAgICAgICAgICAgICAgICBsZXQgdGl0bGUgPSBwZGZoKGl0ZW0sIOWIhumhnuaomemhjClcXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZijmjpLpmaQpICE9ICd1bmRlZmluZWQnICYmIOaOkumZpCAhPSAnJykge1xcbiAgICAgICAgICAgICAgICAgICAgdGl0bGUgPSB0aXRsZS5yZXBsYWNlKG5ldyBSZWdFeHAo5o6S6ZmkLCBcXFwiZ1xcXCIpLCBcXFwiXFxcIilcXG4gICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgICBzLnB1c2goe1xcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGtleS50b1N0cmluZygpID09PSBjYXRlX3RlbXBbaW5kZXhdID8gJ+KAmOKAmOKAmeKAmTxiPicgKyB0aXRsZS5mb250Y29sb3IoXFxcIiNmZmZmZmZcXFwiKS5zbWFsbCgpIDogJ+KAmOKAmOKAmeKAmScgKyB0aXRsZS5zbWFsbCgpLFxcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAkKHBkKGl0ZW0sIOWIhumhnumAo+e1kCkgKyAnI25vTG9hZGluZyMnKS5sYXp5UnVsZSgocGFyYW1zKSA9PiB7XFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zLmNhdGVfdGVtcFtwYXJhbXMuaW5kZXhdID0gcGFyYW1zLmtleS50b1N0cmluZygpXFxuXFxuICAgICAgICAgICAgICAgICAgICAgICAgcHV0VmFyKE1ZX1JVTEUudGl0bGUsIEpTT04uc3RyaW5naWZ5KHBhcmFtcy5jYXRlX3RlbXApKVxcbiAgICAgICAgICAgICAgICAgICAgICAgIHB1dFZhcihNWV9SVUxFLnVybCwgaW5wdXQpXFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UodHJ1ZSlcXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXFxcImhpa2VyOi8vZW1wdHlcXFwiXFxuICAgICAgICAgICAgICAgICAgICB9LCB7XFxuICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZV90ZW1wOiBjYXRlX3RlbXAsXFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IGluZGV4LFxcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleToga2V5LFxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2U6IHBhZ2UsXFxuICAgICAgICAgICAgICAgICAgICB9KSxcXG4gICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAnc2Nyb2xsX2J1dHRvbicsXFxuICAgICAgICAgICAgICAgICAgICBleHRyYToge1xcbiAgICAgICAgICAgICAgICAgICAgICAgICdiYWNrZ3JvdW5kQ29sb3InOiBrZXkudG9TdHJpbmcoKSA9PT0gY2F0ZV90ZW1wW2luZGV4XSA/IGdldFJhbmdlQ29sb3JzKCkgOiAnJ1xcbiAgICAgICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgICB9KVxcbiAgICAgICAgICAgIH0pXFxuICAgICAgICAgICAgcy5wdXNoKHtcXG4gICAgICAgICAgICAgICAgY29sX3R5cGU6IFxcXCJibGFua19ibG9ja1xcXCJcXG4gICAgICAgICAgICB9KTtcXG4gICAgICAgIH1cXG4gICAgfSlcXG59XFxuc2V0UHJlUmVzdWx0KHMpXCJ9XSIsImljb24iOiJodHRwczovL2FwaS54aW5hYy5uZXQvaWNvbi8/dXJsPWh0dHBzOi8vdHhxdXUuY29tLyIsInByb3h5IjoiIn0=